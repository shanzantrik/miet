(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7345],{83308:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products",function(){return t(15146)}])},15146:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return _}});var r=t(85893),n=t(67294),a=t(11163),i=t(9258),l=t(53020),o=t(77046),c=t(11395),d=t(9971),u=t(81687),x=t(97548),h=t(59836),p=t(79118),j=t(78047),Z=t(54937),m=t(60089),v=t(50800),g=t(27965),f=t(84633),y=t(47677),C=t(87066);function _(){const e=(0,a.useRouter)(),[s,t]=(0,n.useState)([]),[_,S]=(0,n.useState)(!0),[w,b]=(0,n.useState)(null),[k,E]=(0,n.useState)(""),[B,W]=(0,n.useState)(""),[A,N]=(0,n.useState)("name"),[P,T]=(0,n.useState)(1),[F,O]=(0,n.useState)(1);(0,n.useEffect)((()=>{I()}),[k,B,A,P]);const I=async()=>{try{S(!0);const e=await C.Z.get("/api/products",{params:{search:k,category:B,sortBy:A,page:P,limit:12}});t(e.data.products),O(e.data.totalPages),b(null)}catch(r){var e,s;b((null===(s=r.response)||void 0===s||null===(e=s.data)||void 0===e?void 0:e.message)||"Failed to fetch products")}finally{S(!1)}};return _&&!s.length?(0,r.jsx)(i.Z,{sx:{display:"flex",justifyContent:"center",p:3},children:(0,r.jsx)(l.Z,{})}):w?(0,r.jsx)(i.Z,{sx:{p:3},children:(0,r.jsx)(o.Z,{color:"error",children:w})}):(0,r.jsxs)(i.Z,{sx:{p:3},children:[(0,r.jsx)(o.Z,{variant:"h4",gutterBottom:!0,children:"Products"}),(0,r.jsxs)(i.Z,{sx:{mb:3,display:"flex",gap:2,flexWrap:"wrap"},children:[(0,r.jsx)(c.Z,{placeholder:"Search products...",value:k,onChange:e=>E(e.target.value),sx:{flex:1,minWidth:"200px"},InputProps:{startAdornment:(0,r.jsx)(d.Z,{position:"start",children:(0,r.jsx)(y.Z,{})})}}),(0,r.jsxs)(u.Z,{sx:{minWidth:"200px"},children:[(0,r.jsx)(x.Z,{children:"Category"}),(0,r.jsxs)(h.Z,{value:B,label:"Category",onChange:e=>W(e.target.value),children:[(0,r.jsx)(p.Z,{value:"",children:"All Categories"}),(0,r.jsx)(p.Z,{value:"Apps",children:"Apps"}),(0,r.jsx)(p.Z,{value:"E-Books",children:"E-Books"}),(0,r.jsx)(p.Z,{value:"Assessment Tools",children:"Assessment Tools"}),(0,r.jsx)(p.Z,{value:"Workshops",children:"Workshops"})]})]}),(0,r.jsxs)(u.Z,{sx:{minWidth:"200px"},children:[(0,r.jsx)(x.Z,{children:"Sort By"}),(0,r.jsxs)(h.Z,{value:A,label:"Sort By",onChange:e=>N(e.target.value),children:[(0,r.jsx)(p.Z,{value:"name",children:"Name"}),(0,r.jsx)(p.Z,{value:"price",children:"Price"}),(0,r.jsx)(p.Z,{value:"rating",children:"Rating"})]})]})]}),(0,r.jsx)(j.Z,{container:!0,spacing:3,children:s.map((s=>{var t;return(0,r.jsx)(j.Z,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,r.jsxs)(Z.Z,{sx:{height:"100%",display:"flex",flexDirection:"column",cursor:"pointer","&:hover":{transform:"translateY(-4px)",transition:"transform 0.2s ease-in-out"}},onClick:()=>{return t=s.id,void e.push("/products/".concat(t));var t},children:[(0,r.jsx)(m.Z,{component:"img",height:"200",image:s.image,alt:s.name,sx:{objectFit:"cover"}}),(0,r.jsxs)(v.Z,{sx:{flexGrow:1},children:[(0,r.jsx)(o.Z,{variant:"h6",gutterBottom:!0,noWrap:!0,children:s.name}),(0,r.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,r.jsx)(g.Z,{value:s.rating,readOnly:!0,precision:.5,size:"small"}),(0,r.jsxs)(o.Z,{variant:"body2",sx:{ml:1},children:["(",(null===(t=s.reviews)||void 0===t?void 0:t.length)||0,")"]})]}),(0,r.jsx)(o.Z,{variant:"body2",color:"text.secondary",paragraph:!0,children:s.description}),(0,r.jsxs)(o.Z,{variant:"h6",color:"primary",children:["$",s.price.toFixed(2)]})]})]})},s.id)}))}),F>1&&(0,r.jsx)(i.Z,{sx:{display:"flex",justifyContent:"center",mt:3},children:(0,r.jsx)(f.Z,{count:F,page:P,onChange:(e,s)=>T(s),color:"primary"})})]})}}},function(e){e.O(0,[7558,2558,7965,8047,6997,9774,2888,179],(function(){return s=83308,e(e.s=s);var s}));var s=e.O();_N_E=s}]);