(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9304],{38693:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/[id]",function(){return r(56923)}])},56923:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return Z}});var o=r(85893),i=r(67294),n=r(11163),a=r(9258),l=r(77046),s=r(78047),c=r(72178),d=r(54937),p=r(50800),h=r(27965),u=r(17318),v=r(11395),g=r(97885),m=r(32467),f=r(16999),x=r(87066);function Z(){var t;const e=(0,n.useRouter)(),{id:r}=e.query,{addToCart:Z}=(0,f.j)(),[y,w]=(0,i.useState)(1),[b,j]=(0,i.useState)(null),[S,C]=(0,i.useState)(!0),[A,M]=(0,i.useState)(null),[P,$]=(0,i.useState)(!1);(0,i.useEffect)((()=>{r&&L()}),[r]);const L=async()=>{try{C(!0);const t=await x.Z.get("/api/products/".concat(r));j(t.data),M(null)}catch(o){var t,e;M((null===(e=o.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to fetch product")}finally{C(!1)}};return S?(0,o.jsx)(a.Z,{sx:{p:3},children:(0,o.jsx)(l.Z,{children:"Loading product..."})}):A?(0,o.jsx)(a.Z,{sx:{p:3},children:(0,o.jsx)(l.Z,{color:"error",children:A})}):b?(0,o.jsx)(a.Z,{sx:{p:3},children:(0,o.jsxs)(s.Z,{container:!0,spacing:3,children:[(0,o.jsx)(s.Z,{item:!0,xs:12,md:6,children:(0,o.jsx)(c.Z,{sx:{p:2},children:(0,o.jsx)("img",{src:b.image,alt:b.name,style:{width:"100%",height:"auto",maxHeight:"500px",objectFit:"contain"}})})}),(0,o.jsx)(s.Z,{item:!0,xs:12,md:6,children:(0,o.jsx)(d.Z,{children:(0,o.jsxs)(p.Z,{children:[(0,o.jsx)(l.Z,{variant:"h4",gutterBottom:!0,children:b.name}),(0,o.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,o.jsx)(h.Z,{value:b.rating,readOnly:!0,precision:.5}),(0,o.jsxs)(l.Z,{variant:"body2",sx:{ml:1},children:["(",(null===(t=b.reviews)||void 0===t?void 0:t.length)||0," reviews)"]})]}),(0,o.jsxs)(l.Z,{variant:"h5",color:"primary",gutterBottom:!0,children:["$",b.price.toFixed(2)]}),(0,o.jsx)(l.Z,{variant:"body1",paragraph:!0,children:b.description}),(0,o.jsx)(u.Z,{sx:{my:2}}),(0,o.jsxs)(a.Z,{sx:{mb:2},children:[(0,o.jsx)(l.Z,{variant:"subtitle1",gutterBottom:!0,children:"Quantity"}),(0,o.jsx)(v.Z,{type:"number",value:y,onChange:t=>{const e=parseInt(t.target.value);!isNaN(e)&&e>0&&w(e)},inputProps:{min:1},sx:{width:"100px"}})]}),P&&(0,o.jsx)(g.Z,{severity:"success",sx:{mb:2},children:"Product added to cart successfully!"}),(0,o.jsx)(m.Z,{variant:"contained",color:"primary",fullWidth:!0,onClick:async()=>{try{await Z(r,y)&&($(!0),setTimeout((()=>$(!1)),3e3))}catch(o){var t,e;M((null===(e=o.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to add to cart")}},disabled:!b.stock,children:b.stock?"Add to Cart":"Out of Stock"})]})})})]})}):(0,o.jsx)(a.Z,{sx:{p:3},children:(0,o.jsx)(l.Z,{children:"Product not found"})})}},11163:function(t,e,r){t.exports=r(59974)},97885:function(t,e,r){"use strict";r.d(e,{Z:function(){return I}});var o=r(67294),i=r(90512),n=r(49348),a=r(20291),l=r(66917),s=r(99146),c=r(85048),d=r(66211),p=r(67584),h=r(62390),u=r(72178),v=r(57480),g=r(1801);function m(t){return(0,g.ZP)("MuiAlert",t)}var f=(0,v.Z)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),x=r(41266),Z=r(60588),y=r(85893),w=(0,Z.Z)((0,y.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),b=(0,Z.Z)((0,y.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),j=(0,Z.Z)((0,y.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),S=(0,Z.Z)((0,y.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),C=(0,Z.Z)((0,y.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");const A=(0,l.ZP)(u.Z,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`${r.variant}${(0,p.Z)(r.color||r.severity)}`]]}})((0,s.Z)((({theme:t})=>{const e="light"===t.palette.mode?a._j:a.$n,r="light"===t.palette.mode?a.$n:a._j;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter((0,h.Z)(["light"])).map((([o])=>({props:{colorSeverity:o,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${o}Color`]:e(t.palette[o].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${o}StandardBg`]:r(t.palette[o].light,.9),[`& .${f.icon}`]:t.vars?{color:t.vars.palette.Alert[`${o}IconColor`]}:{color:t.palette[o].main}}}))),...Object.entries(t.palette).filter((0,h.Z)(["light"])).map((([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${f.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}}))),...Object.entries(t.palette).filter((0,h.Z)(["dark"])).map((([e])=>({props:{colorSeverity:e,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${e}FilledColor`],backgroundColor:t.vars.palette.Alert[`${e}FilledBg`]}:{backgroundColor:"dark"===t.palette.mode?t.palette[e].dark:t.palette[e].main,color:t.palette.getContrastText(t.palette[e].main)}}})))]}}))),M=(0,l.ZP)("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),P=(0,l.ZP)("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),$=(0,l.ZP)("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),L={success:(0,y.jsx)(w,{fontSize:"inherit"}),warning:(0,y.jsx)(b,{fontSize:"inherit"}),error:(0,y.jsx)(j,{fontSize:"inherit"}),info:(0,y.jsx)(S,{fontSize:"inherit"})};var I=o.forwardRef((function(t,e){const r=(0,c.i)({props:t,name:"MuiAlert"}),{action:o,children:a,className:l,closeText:s="Close",color:h,components:u={},componentsProps:v={},icon:g,iconMapping:f=L,onClose:Z,role:w="alert",severity:b="success",slotProps:j={},slots:S={},variant:I="standard",...k}=r,R={...r,color:h,severity:b,variant:I,colorSeverity:h||b},z=(t=>{const{variant:e,color:r,severity:o,classes:i}=t,a={root:["root",`color${(0,p.Z)(r||o)}`,`${e}${(0,p.Z)(r||o)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return(0,n.Z)(a,m,i)})(R),N={slots:{closeButton:u.CloseButton,closeIcon:u.CloseIcon,...S},slotProps:{...v,...j}},[T,W]=(0,d.Z)("root",{ref:e,shouldForwardComponentProp:!0,className:(0,i.Z)(z.root,l),elementType:A,externalForwardedProps:{...N,...k},ownerState:R,additionalProps:{role:w,elevation:0}}),[F,_]=(0,d.Z)("icon",{className:z.icon,elementType:M,externalForwardedProps:N,ownerState:R}),[B,E]=(0,d.Z)("message",{className:z.message,elementType:P,externalForwardedProps:N,ownerState:R}),[O,V]=(0,d.Z)("action",{className:z.action,elementType:$,externalForwardedProps:N,ownerState:R}),[H,D]=(0,d.Z)("closeButton",{elementType:x.Z,externalForwardedProps:N,ownerState:R}),[q,X]=(0,d.Z)("closeIcon",{elementType:C,externalForwardedProps:N,ownerState:R});return(0,y.jsxs)(T,{...W,children:[!1!==g?(0,y.jsx)(F,{..._,children:g||f[b]||L[b]}):null,(0,y.jsx)(B,{...E,children:a}),null!=o?(0,y.jsx)(O,{...V,children:o}):null,null==o&&Z?(0,y.jsx)(O,{...V,children:(0,y.jsx)(H,{size:"small","aria-label":s,title:s,color:"inherit",onClick:Z,...D,children:(0,y.jsx)(q,{fontSize:"small",...X})})}):null]})}))},50800:function(t,e,r){"use strict";r.d(e,{Z:function(){return u}});var o=r(67294),i=r(90512),n=r(49348),a=r(66917),l=r(85048),s=r(57480),c=r(1801);function d(t){return(0,c.ZP)("MuiCardContent",t)}(0,s.Z)("MuiCardContent",["root"]);var p=r(85893);const h=(0,a.ZP)("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}});var u=o.forwardRef((function(t,e){const r=(0,l.i)({props:t,name:"MuiCardContent"}),{className:o,component:a="div",...s}=r,c={...r,component:a},u=(t=>{const{classes:e}=t;return(0,n.Z)({root:["root"]},d,e)})(c);return(0,p.jsx)(h,{as:a,className:(0,i.Z)(u.root,o),ownerState:c,ref:e,...s})}))},17318:function(t,e,r){"use strict";var o=r(67294),i=r(90512),n=r(49348),a=r(20291),l=r(66917),s=r(99146),c=r(85048),d=r(70380),p=r(85893);const h=(0,l.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.absolute&&e.absolute,e[r.variant],r.light&&e.light,"vertical"===r.orientation&&e.vertical,r.flexItem&&e.flexItem,r.children&&e.withChildren,r.children&&"vertical"===r.orientation&&e.withChildrenVertical,"right"===r.textAlign&&"vertical"!==r.orientation&&e.textAlignRight,"left"===r.textAlign&&"vertical"!==r.orientation&&e.textAlignLeft]}})((0,s.Z)((({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:(0,a.Fq)(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&"vertical"!==t.orientation,style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>"vertical"===t.orientation&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>"right"===t.textAlign&&"vertical"!==t.orientation,style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>"left"===t.textAlign&&"vertical"!==t.orientation,style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]})))),u=(0,l.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.wrapper,"vertical"===r.orientation&&e.wrapperVertical]}})((0,s.Z)((({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]})))),v=o.forwardRef((function(t,e){const r=(0,c.i)({props:t,name:"MuiDivider"}),{absolute:o=!1,children:a,className:l,orientation:s="horizontal",component:v=(a||"vertical"===s?"div":"hr"),flexItem:g=!1,light:m=!1,role:f=("hr"!==v?"separator":void 0),textAlign:x="center",variant:Z="fullWidth",...y}=r,w={...r,absolute:o,component:v,flexItem:g,light:m,orientation:s,role:f,textAlign:x,variant:Z},b=(t=>{const{absolute:e,children:r,classes:o,flexItem:i,light:a,orientation:l,textAlign:s,variant:c}=t,p={root:["root",e&&"absolute",c,a&&"light","vertical"===l&&"vertical",i&&"flexItem",r&&"withChildren",r&&"vertical"===l&&"withChildrenVertical","right"===s&&"vertical"!==l&&"textAlignRight","left"===s&&"vertical"!==l&&"textAlignLeft"],wrapper:["wrapper","vertical"===l&&"wrapperVertical"]};return(0,n.Z)(p,d.V,o)})(w);return(0,p.jsx)(h,{as:v,className:(0,i.Z)(b.root,l),role:f,ref:e,ownerState:w,"aria-orientation":"separator"!==f||"hr"===v&&"vertical"!==s?void 0:s,...y,children:a?(0,p.jsx)(u,{className:b.wrapper,ownerState:w,children:a}):null})}));v&&(v.muiSkipListHighlight=!0),e.Z=v},70380:function(t,e,r){"use strict";r.d(e,{V:function(){return n}});var o=r(57480),i=r(1801);function n(t){return(0,i.ZP)("MuiDivider",t)}const a=(0,o.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);e.Z=a}},function(t){t.O(0,[7558,2558,7965,9728,8047,9774,2888,179],(function(){return e=38693,t(t.s=e);var e}));var e=t.O();_N_E=e}]);