(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1806],{77059:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/consultants",function(){return n(53524)}])},66308:function(e,s,n){"use strict";n.d(s,{Z:function(){return v}});var t=n(85893),a=n(67294),i=n(11163),r=n(41664),l=n.n(r),c=n(42237),o=n(7543),d=n(18274),x=n(78357),m=n(21809),h=n(50063),u=n(70303),f=n(13658),g=n(45548),p=n(31415),j=n(43407);const y=[{name:"Dashboard",href:"/admin",icon:c.Z},{name:"Users",href:"/admin/users",icon:o.Z},{name:"Products",href:"/admin/products",icon:d.Z},{name:"Consultants",href:"/admin/consultants",icon:x.Z},{name:"Categories",href:"/admin/categories",icon:m.Z},{name:"Ailments",href:"/admin/ailments",icon:h.Z},{name:"Specializations",href:"/admin/specializations",icon:u.Z},{name:"Analytics",href:"/admin/analytics",icon:f.Z},{name:"Settings",href:"/admin/settings",icon:g.Z}];function v(e){let{children:s}=e;const[n,r]=(0,a.useState)(!1),c=(0,i.useRouter)(),o=()=>{localStorage.removeItem("token"),c.push("/admin/login")};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,t.jsxs)("div",{className:"fixed inset-0 flex z-40 md:hidden ".concat(n?"":"hidden"),children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),(0,t.jsxs)("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:(0,t.jsxs)("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>r(!1),children:[(0,t.jsx)("span",{className:"sr-only",children:"Close sidebar"}),(0,t.jsx)(p.Z,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})}),(0,t.jsxs)("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[(0,t.jsx)("div",{className:"flex-shrink-0 flex items-center px-4",children:(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Panel"})}),(0,t.jsx)("nav",{className:"mt-5 px-2 space-y-1",children:y.map((e=>(0,t.jsxs)(l(),{href:e.href,className:"group flex items-center px-2 py-2 text-base font-medium rounded-md ".concat(c.pathname===e.href?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,t.jsx)(e.icon,{className:"mr-4 h-6 w-6 ".concat(c.pathname===e.href?"text-gray-500":"text-gray-400 group-hover:text-gray-500"),"aria-hidden":"true"}),e.name]},e.name)))})]}),(0,t.jsx)("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:(0,t.jsx)("button",{onClick:o,className:"flex-shrink-0 w-full group block",children:(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900",children:"Logout"})})})})})]})]}),(0,t.jsx)("div",{className:"hidden md:flex md:w-64 md:flex-col md:fixed md:inset-y-0",children:(0,t.jsxs)("div",{className:"flex-1 flex flex-col min-h-0 border-r border-gray-200 bg-white",children:[(0,t.jsxs)("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[(0,t.jsx)("div",{className:"flex items-center flex-shrink-0 px-4",children:(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Panel"})}),(0,t.jsx)("nav",{className:"mt-5 flex-1 px-2 space-y-1",children:y.map((e=>(0,t.jsxs)(l(),{href:e.href,className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md ".concat(c.pathname===e.href?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,t.jsx)(e.icon,{className:"mr-3 h-6 w-6 ".concat(c.pathname===e.href?"text-gray-500":"text-gray-400 group-hover:text-gray-500"),"aria-hidden":"true"}),e.name]},e.name)))})]}),(0,t.jsx)("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:(0,t.jsx)("button",{onClick:o,className:"flex-shrink-0 w-full group block",children:(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900",children:"Logout"})})})})})]})}),(0,t.jsxs)("div",{className:"md:pl-64 flex flex-col flex-1",children:[(0,t.jsx)("div",{className:"sticky top-0 z-10 md:hidden pl-1 pt-1 sm:pl-3 sm:pt-3 bg-white",children:(0,t.jsxs)("button",{type:"button",className:"-ml-0.5 -mt-0.5 h-12 w-12 inline-flex items-center justify-center rounded-md text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",onClick:()=>r(!0),children:[(0,t.jsx)("span",{className:"sr-only",children:"Open sidebar"}),(0,t.jsx)(j.Z,{className:"h-6 w-6","aria-hidden":"true"})]})}),(0,t.jsx)("main",{className:"flex-1",children:s})]})]})}},57407:function(e,s,n){"use strict";n.d(s,{Z:function(){return x}});var t=n(85893),a=n(67294),i=n(84463),r=n(10050),l=n(5362),c=n(36947),o=n(82313),d=n(31415);function x(e){let{show:s,message:n,type:x="success",onClose:m}=e;const h={success:"bg-green-50 text-green-800",error:"bg-red-50 text-red-800",warning:"bg-yellow-50 text-yellow-800",info:"bg-blue-50 text-blue-800"},u={success:r.Z,error:l.Z,warning:c.Z,info:o.Z}[x]||r.Z;return(0,t.jsx)("div",{"aria-live":"assertive",className:"fixed inset-0 flex items-end px-4 py-6 pointer-events-none sm:p-6 sm:items-start z-50",children:(0,t.jsx)("div",{className:"w-full flex flex-col items-center space-y-4 sm:items-end",children:(0,t.jsx)(i.u,{show:s,as:a.Fragment,enter:"transform ease-out duration-300 transition",enterFrom:"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2",enterTo:"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,t.jsx)("div",{className:"max-w-sm w-full ".concat(h[x]," shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden"),children:(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(u,{className:"h-6 w-6","aria-hidden":"true"})}),(0,t.jsx)("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:(0,t.jsx)("p",{className:"text-sm font-medium",children:n})}),(0,t.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:(0,t.jsxs)("button",{type:"button",className:"".concat(h[x]," rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),onClick:m,children:[(0,t.jsx)("span",{className:"sr-only",children:"Close"}),(0,t.jsx)(d.Z,{className:"h-5 w-5","aria-hidden":"true"})]})})]})})})})})})}},53524:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return Z}});var t=n(85893),a=n(67294),i=n(11163),r=n(77046),l=n(78716),c=n(72178),o=n(88186),d=n(20095),x=n(3432),m=n(95288),h=n(95865),u=n(9258),f=n(27965),g=n(41266),p=n(53165),j=n(86866),y=n(21959),v=n(87066),N=n(66308),w=n(57407);const b="https://miet-backend-five.vercel.app";function Z(){const e=(0,i.useRouter)(),[s,n]=(0,a.useState)([]),[Z,k]=(0,a.useState)(!0),[C,_]=(0,a.useState)(null),[S,E]=(0,a.useState)({show:!1,message:"",type:"success"});(0,a.useEffect)((()=>{z()}),[]);const z=async()=>{try{const e=await v.Z.get("".concat(b,"/api/consultants"));n(e.data),k(!1)}catch(e){_(e.message),k(!1)}};return Z?(0,t.jsx)(r.Z,{children:"Loading..."}):C?(0,t.jsx)(r.Z,{color:"error",children:C}):(0,t.jsx)(N.Z,{children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold text-gray-800",children:"Consultants Management"}),(0,t.jsxs)("button",{onClick:()=>e.push("/admin/consultants/add"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,t.jsx)("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Consultant"]})]}),(0,t.jsx)(l.Z,{component:c.Z,children:(0,t.jsxs)(o.Z,{children:[(0,t.jsx)(d.Z,{children:(0,t.jsxs)(x.Z,{children:[(0,t.jsx)(m.Z,{children:"Name"}),(0,t.jsx)(m.Z,{children:"Email"}),(0,t.jsx)(m.Z,{children:"Specialization"}),(0,t.jsx)(m.Z,{children:"Rating"}),(0,t.jsx)(m.Z,{children:"Status"}),(0,t.jsx)(m.Z,{children:"Actions"})]})}),(0,t.jsx)(h.Z,{children:s.map((s=>(0,t.jsxs)(x.Z,{children:[(0,t.jsx)(m.Z,{children:s.name}),(0,t.jsx)(m.Z,{children:s.email}),(0,t.jsx)(m.Z,{children:s.specialization}),(0,t.jsx)(m.Z,{children:(0,t.jsxs)(u.Z,{display:"flex",alignItems:"center",children:[(0,t.jsx)(f.Z,{value:s.rating||0,readOnly:!0,precision:.5}),(0,t.jsxs)(r.Z,{variant:"body2",ml:1,children:["(",s.totalRatings||0,")"]})]})}),(0,t.jsx)(m.Z,{children:s.status}),(0,t.jsxs)(m.Z,{children:[(0,t.jsx)(g.Z,{color:"primary",onClick:()=>{return n=s.id,void e.push("/admin/consultants/".concat(n,"/reviews"));var n},title:"View Reviews",children:(0,t.jsx)(p.Z,{})}),(0,t.jsx)(g.Z,{color:"primary",onClick:()=>{return n=s.id,void e.push("/admin/consultants/".concat(n));var n},title:"Edit",children:(0,t.jsx)(j.Z,{})}),(0,t.jsx)(g.Z,{color:"error",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this consultant?"))try{await v.Z.delete("".concat(b,"/api/consultants/").concat(e)),z()}catch(s){_(s.message)}})(s.id),title:"Delete",children:(0,t.jsx)(y.Z,{})})]})]},s.id)))})]})}),(0,t.jsx)(w.Z,{show:S.show,message:S.message,type:S.type,onClose:()=>E((e=>({...e,show:!1})))})]})})}}},function(e){e.O(0,[3424,6920,7558,7965,4228,9767,9774,2888,179],(function(){return s=77059,e(e.s=s);var s}));var s=e.O();_N_E=s}]);