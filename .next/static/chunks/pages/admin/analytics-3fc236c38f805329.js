(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[867],{18197:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/analytics",function(){return t(62035)}])},66308:function(e,s,t){"use strict";t.d(s,{Z:function(){return N}});var a=t(85893),r=t(67294),l=t(11163),n=t(41664),i=t.n(n),d=t(42237),c=t(7543),o=t(18274),x=t(78357),m=t(21809),h=t(50063),g=t(70303),u=t(13658),f=t(45548),p=t(31415),j=t(43407);const y=[{name:"Dashboard",href:"/admin",icon:d.Z},{name:"Users",href:"/admin/users",icon:c.Z},{name:"Products",href:"/admin/products",icon:o.Z},{name:"Consultants",href:"/admin/consultants",icon:x.Z},{name:"Categories",href:"/admin/categories",icon:m.Z},{name:"Ailments",href:"/admin/ailments",icon:h.Z},{name:"Specializations",href:"/admin/specializations",icon:g.Z},{name:"Analytics",href:"/admin/analytics",icon:u.Z},{name:"Settings",href:"/admin/settings",icon:f.Z}];function N(e){let{children:s}=e;const[t,n]=(0,r.useState)(!1),d=(0,l.useRouter)(),c=()=>{localStorage.removeItem("token"),d.push("/admin/login")};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,a.jsxs)("div",{className:"fixed inset-0 flex z-40 md:hidden ".concat(t?"":"hidden"),children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>n(!1)}),(0,a.jsxs)("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:(0,a.jsxs)("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>n(!1),children:[(0,a.jsx)("span",{className:"sr-only",children:"Close sidebar"}),(0,a.jsx)(p.Z,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})}),(0,a.jsxs)("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[(0,a.jsx)("div",{className:"flex-shrink-0 flex items-center px-4",children:(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Panel"})}),(0,a.jsx)("nav",{className:"mt-5 px-2 space-y-1",children:y.map((e=>(0,a.jsxs)(i(),{href:e.href,className:"group flex items-center px-2 py-2 text-base font-medium rounded-md ".concat(d.pathname===e.href?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,a.jsx)(e.icon,{className:"mr-4 h-6 w-6 ".concat(d.pathname===e.href?"text-gray-500":"text-gray-400 group-hover:text-gray-500"),"aria-hidden":"true"}),e.name]},e.name)))})]}),(0,a.jsx)("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:(0,a.jsx)("button",{onClick:c,className:"flex-shrink-0 w-full group block",children:(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900",children:"Logout"})})})})})]})]}),(0,a.jsx)("div",{className:"hidden md:flex md:w-64 md:flex-col md:fixed md:inset-y-0",children:(0,a.jsxs)("div",{className:"flex-1 flex flex-col min-h-0 border-r border-gray-200 bg-white",children:[(0,a.jsxs)("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[(0,a.jsx)("div",{className:"flex items-center flex-shrink-0 px-4",children:(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Panel"})}),(0,a.jsx)("nav",{className:"mt-5 flex-1 px-2 space-y-1",children:y.map((e=>(0,a.jsxs)(i(),{href:e.href,className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md ".concat(d.pathname===e.href?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,a.jsx)(e.icon,{className:"mr-3 h-6 w-6 ".concat(d.pathname===e.href?"text-gray-500":"text-gray-400 group-hover:text-gray-500"),"aria-hidden":"true"}),e.name]},e.name)))})]}),(0,a.jsx)("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:(0,a.jsx)("button",{onClick:c,className:"flex-shrink-0 w-full group block",children:(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900",children:"Logout"})})})})})]})}),(0,a.jsxs)("div",{className:"md:pl-64 flex flex-col flex-1",children:[(0,a.jsx)("div",{className:"sticky top-0 z-10 md:hidden pl-1 pt-1 sm:pl-3 sm:pt-3 bg-white",children:(0,a.jsxs)("button",{type:"button",className:"-ml-0.5 -mt-0.5 h-12 w-12 inline-flex items-center justify-center rounded-md text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",onClick:()=>n(!0),children:[(0,a.jsx)("span",{className:"sr-only",children:"Open sidebar"}),(0,a.jsx)(j.Z,{className:"h-6 w-6","aria-hidden":"true"})]})}),(0,a.jsx)("main",{className:"flex-1",children:s})]})]})}},65858:function(e,s,t){"use strict";t.d(s,{Q:function(){return n}});var a=t(85893),r=t(67294),l=t(11163);function n(e){return function(s){const t=(0,l.useRouter)();return(0,r.useEffect)((()=>{localStorage.getItem("token")||t.push("/admin/login")}),[t]),(0,a.jsx)(e,{...s})}}},62035:function(e,s,t){"use strict";t.r(s);var a=t(85893),r=t(67294),l=t(66308),n=t(65858),i=t(23148),d=t(26495);i.kL.register(i.uw,i.f$,i.od,i.jn,i.ZL,i.Dx,i.u,i.De,i.qi),s.default=(0,n.Q)((function(){const[e,s]=(0,r.useState)(!0),[t,n]=(0,r.useState)({totalSales:0,totalOrders:0,totalCustomers:0,totalProducts:0,recentOrders:[],topProducts:[],salesByCategory:[],salesByMonth:[],customerGrowth:[]});(0,r.useEffect)((()=>{i()}),[]);const i=async()=>{try{const e=await fetch("http://localhost:5001/api/admin/analytics",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!e.ok)throw new Error("Failed to fetch analytics");const t=await e.json();n(t)}catch(e){console.error("Error fetching analytics:",e)}finally{s(!1)}},c={labels:t.salesByMonth.map((e=>e.month)),datasets:[{label:"Sales",data:t.salesByMonth.map((e=>e.total)),borderColor:"rgb(75, 192, 192)",tension:.1}]},o={labels:t.salesByCategory.map((e=>e.category)),datasets:[{data:t.salesByCategory.map((e=>e.total)),backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 206, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(255, 159, 64)"]}]},x={labels:t.customerGrowth.map((e=>e.month)),datasets:[{label:"New Customers",data:t.customerGrowth.map((e=>e.count)),backgroundColor:"rgba(75, 192, 192, 0.5)"}]};return e?(0,a.jsx)(l.Z,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})}):(0,a.jsx)(l.Z,{children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Analytics Dashboard"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 mb-6",children:[(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"h-6 w-6 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Sales"}),(0,a.jsxs)("dd",{className:"text-lg font-semibold text-gray-900",children:["$",t.totalSales.toFixed(2)]})]})})]})})}),(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"h-6 w-6 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),(0,a.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Orders"}),(0,a.jsx)("dd",{className:"text-lg font-semibold text-gray-900",children:t.totalOrders})]})})]})})}),(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"h-6 w-6 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,a.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Customers"}),(0,a.jsx)("dd",{className:"text-lg font-semibold text-gray-900",children:t.totalCustomers})]})})]})})}),(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"h-6 w-6 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,a.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Products"}),(0,a.jsx)("dd",{className:"text-lg font-semibold text-gray-900",children:t.totalProducts})]})})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2 mb-6",children:[(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Sales Trend"}),(0,a.jsx)(d.x1,{data:c})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Sales by Category"}),(0,a.jsx)(d.$I,{data:o})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Customer Growth"}),(0,a.jsx)(d.$Q,{data:x})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Orders"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.recentOrders.map((e=>(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["#",e.id]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.customer}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",e.amount.toFixed(2)]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("completed"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status})})]},e.id)))})]})})]})]})]})})}))}},function(e){e.O(0,[2196,3424,1367,9774,2888,179],(function(){return s=18197,e(e.s=s);var s}));var s=e.O();_N_E=s}]);