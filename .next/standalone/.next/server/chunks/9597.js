exports.id=9597,exports.ids=[9597],exports.modules={97016:(t,e,a)=>{"use strict";a.a(t,(async(t,r)=>{try{a.d(e,{H:()=>l,a:()=>d});var n=a(20997),s=a(16689),o=a(99648),c=t([o]);o=(c.then?(await c)():c)[0];const u=(0,s.createContext)();function l({children:t}){const[e,a]=(0,s.useState)(null),[r,c]=(0,s.useState)(!0),[i,l]=(0,s.useState)(null);(0,s.useEffect)((()=>{d()}),[]);const d=async()=>{try{const t=localStorage.getItem("token");if(t){const e=await o.default.get("/api/auth/me",{headers:{Authorization:`Bearer ${t}`}});a(e.data)}}catch(t){localStorage.removeItem("token"),a(null)}finally{c(!1)}},h={user:e,loading:r,error:i,login:async(t,e)=>{try{const r=await o.default.post("/api/auth/login",{email:t,password:e}),{token:n,user:s}=r.data;return localStorage.setItem("token",n),a(s),l(null),!0}catch(r){return l(r.response?.data?.message||"Failed to login"),!1}},register:async(t,e,r)=>{try{const n=await o.default.post("/api/auth/register",{name:t,email:e,password:r}),{token:s,user:c}=n.data;return localStorage.setItem("token",s),a(c),l(null),!0}catch(n){return l(n.response?.data?.message||"Failed to register"),!1}},logout:()=>{localStorage.removeItem("token"),a(null)}};return n.jsx(u.Provider,{value:h,children:t})}function d(){const t=(0,s.useContext)(u);if(void 0===t)throw new Error("useAuth must be used within an AuthProvider");return t}r()}catch(i){r(i)}}))},16999:(t,e,a)=>{"use strict";a.a(t,(async(t,r)=>{try{a.d(e,{Z:()=>l,j:()=>d});var n=a(20997),s=a(16689),o=a(99648),c=t([o]);o=(c.then?(await c)():c)[0];const u=(0,s.createContext)();function l({children:t}){const[e,a]=(0,s.useState)(null),[r,c]=(0,s.useState)(!0),[i,l]=(0,s.useState)(null),d=async()=>{try{c(!0);const t=await o.default.get("/api/cart");a(t.data),l(null)}catch(t){l(t.response?.data?.message||"Failed to fetch cart")}finally{c(!1)}};(0,s.useEffect)((()=>{d()}),[]);const h={cart:e,loading:r,error:i,fetchCart:d,addToCart:async(t,e=1)=>{try{const r=await o.default.post("/api/cart/items",{productId:t,quantity:e});return a(r.data),!0}catch(r){return l(r.response?.data?.message||"Failed to add item to cart"),!1}},updateQuantity:async(t,e)=>{try{const r=await o.default.patch(`/api/cart/items/${t}`,{quantity:e});return a(r.data),!0}catch(r){return l(r.response?.data?.message||"Failed to update quantity"),!1}},removeItem:async t=>{try{const e=await o.default.delete(`/api/cart/items/${t}`);return a(e.data),!0}catch(e){return l(e.response?.data?.message||"Failed to remove item"),!1}},clearCart:async()=>{try{return await o.default.delete("/api/cart"),a(null),!0}catch(t){return l(t.response?.data?.message||"Failed to clear cart"),!1}}};return n.jsx(u.Provider,{value:h,children:t})}function d(){const t=(0,s.useContext)(u);if(void 0===t)throw new Error("useCart must be used within a CartProvider");return t}r()}catch(i){r(i)}}))},39597:(t,e,a)=>{"use strict";a.a(t,(async(t,r)=>{try{a.r(e),a.d(e,{default:()=>m});var n=a(20997),s=a(43926),o=a(69340),c=a(97016),i=a(16999),u=(a(86764),t([s,o,c,i]));[s,o,c,i]=u.then?(await u)():u;const d=(0,s.createTheme)({palette:{primary:{main:"#1976d2"},secondary:{main:"#dc004e"}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(",")}});function h({Component:t,pageProps:e}){return(0,n.jsxs)(s.ThemeProvider,{theme:d,children:[n.jsx(o.default,{}),n.jsx(c.H,{children:n.jsx(i.Z,{children:n.jsx(t,{...e})})})]})}const m=h;r()}catch(l){r(l)}}))},86764:()=>{}};